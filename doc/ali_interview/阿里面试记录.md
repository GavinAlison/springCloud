> 这里记录一下别人面试阿里的题目

```
1.redis的布隆过滤器，讲一下原理，会用不行
2.怎么保证redis中的商品库存不会发生超卖，不会变成负的，如果不小心将redis中的值删掉，有什么补救措施吗
3.多极缓存，除了redis之外还有内存缓存，那么你的内存缓存存的是什么信息吗？什么是缓存击穿，在什么场景用了String以外的数据结构呢？
4.会不会在卖东西的时候，一个商品库存为0 了，我会不会把这个商品去掉，换一个商品上去？这个时候还会使用多级缓存吗？
5.zookeeper中有多少种节点类型？没用zookeeper，只知道是CP的
6.分布式事务。TCC
7.使用Springboot的过程当中，你是用过Conditional这种类型的注解吗？
8.Mybatis在写mapper的时候，是接口Interface，是怎么样经过什么操作，调用了sql语句
9.用过JUC里面哪些类型的锁
10.你说下订单的时候，扣库存核销券用了分布式事务，你确定吗？扣库存失败怎么办？消费者没有消费到怎么办？消息发送的时候，失败了，你知道什么是死信队列吗？
我现在就要消息按照顺序消费，怎么消费，2主2从的消息队列？我说同步发送
消息队列的消息质量是什么（这个问题没懂问的是什么）？

1.电商商品预热，将客户要买的商品放到缓存中，但是这个时候缓存抖动了，怎么办？---redis集群主从，分片，这个是啥，什么叫分片？我现在redis主从同步，主节点拒绝服务吗？我说不拒绝，fork一个子线程，共享内存，进行同步，如果有需求过来，会写到redis的脏页上去，然后下次这个数据在同步过去。
商品信息的数据在双11大流量的期间，能被更新吗？
2.分布式锁，那什么实现的分布式锁，为什么使用分布式锁？那些没有获得分布式锁的请求怎么办？自旋吗？
3.lock和Synchronized的区别是什么？
4.cas ...原子 int类型，再加一的时候，是如何保证线程安全的
5.AQS。。。用了AQS之后，这个锁是公平锁还是非公平锁，放队列里面吗？
6.concurrenthashmap...
日他妈，
7说出来了，
8的多线程扩容，写操作没有说清楚，然后问了7的concurrenthashmap的size()和contains(key),方法是怎么实现的？我说是segment锁，逐个锁起来，再逐个释放。。。


帮我设计一个思路，我这边有个优惠券的系统，我现在要先定义一个活动，然后生成一批券，先生成100张券，通过终端用户，来领券。。。
你能帮我设计一下，券可以发不完，但是怎么避免一张券不会发到2个人手上，而且不能超卖。一个用户可以领多次券，
如果一个用户只能领一张券的话，那么更复杂了。
首先，调用接口领券，是那一批券中，选择一张券给他们，怎么选择出那张券。

1.支付：支付宝微信回调的时候返回支付成功，但是自己主动查询的时候，确支付失败，怎么解决？立刻退款吗？假如退款也不成功呢？
2.支付状态的问题：对于一条支付订单，是否遇到过多次收到第三方的支付平台的回调？（微信和支付宝多次回调）
订单这个时候收到支付回调，处理了一下，再过一会又收到了支付回调？怎么处理
3.订单和支付单是分开的吗？---分开的
4.收到支付成功的回调的时候，是先改支付单的状态，然后再改订单的状态。。。
用的MQ是什么MQ？RocketMQ，那么这个消息是什么消息？集群消息？返回状态给谁？消息队列？
一般消息队列都是发送方知道自己发送成功了，但是不知道消费端有没有消费成功，这个不是完整的分布式事务，怎么办？
5.订单的ID怎么生成的？假如分库分表，怎么生成订单ID，雪花算法？雪花算法有问题吗？有别的算法吗？google的gossip算法。
6.如果我知道你的接口参数，我能否写脚本，不断的刷你的接口？
7.当前数据库的数据量级多少？分表了吗？以后分表吗？根据什么字段取模（用哪个字段作为分表的键）？
我说用月份。
订单表中有归属信息吗？就是这个订单是哪个人的？我能根据这个userId查询这个人下的所有的订单吗？
union？如果我分了16张表怎么办？假如项目推广的很好，256张表，这个时候怎么查？
8.用过哪些框架？介绍一下。
假如我是新手，你会和我分享springboot的哪些方面？配置？配置是怎么生效的？
假如我现在用数据库连接池datasource,那么很奇怪，为什么可以呢？为什么直接能拿到这个datasource? 
我说依赖注入，应该不对？继续问springboot怎么知道我写了这个，他是什么时候依赖注入的？
我的springboot,我只有一个main方法，写了@Annotation ,他是怎么知道要加载这些方法，怎么知道的？
我看的书说的是auto-configuration这个jar包
他是怎么判断要启动webservlet组件的？
```

记录自己的面试题
```
如何修改千万级别表的某两列的值，求最优解

```